<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="style.css">

    <script src="scripts/misc.js"></script>
    <script src="scripts/vector.js"></script>

    <script src="scripts/convert.js"></script>

    <script src="scripts/Chart.js"></script>
    <script src="scripts/drawFlightpath.js"></script>

    <script src="scripts/BB.js"></script>
    <script src="scripts/FlightPath.js"></script>

    <script src="scripts/arrayToCSV.js"></script>

</head>
<body>
    <h3>Time In Air: <span class="number" id="airtime">0</span> Seconds</h3>
    <h3>Maximum Range: <span class="number" id="range">0</span> Feet</h3>

    <div class="download-btn">
        <button id ="btn">Download CSV</button>
    </div>


    <div id="graph-div">
        <canvas id="myCanvas" width="200" height="100"></canvas>
    </div>
</body>


<script>

    let bb = new BB(g_to_kg(0.20), 0.003, 0.5);

    let wind = {
      x: 0,
      y: 0,
      z: 0
    };

    let path = new FlightPath(bb, fps_to_ms(400), 1, 200, wind);


    path.solve(0.05, 10);

    console.log("Time to fall:  " + round(path.results.timeToGround, 3));
    console.log("Maximum Range: " + round(m_to_ft(path.results.maxRange), 1) + " feet");
    console.log("Time to solve: " + round(path.performance.solveT, 3) + " ms");


    // drawFlightPath(path.data.xxData, path.data.xyData, path.results.maxRange);



    path.separateData();

    console.log(path.data.t);





    document.getElementById("airtime").innerHTML = round(path.results.timeToGround, 2);
    document.getElementById("range").innerHTML = round(path.results.maxRange * 3.2808399, 1);

    document.getElementById('btn').onclick = function(){
        arrayToCSV(path.data.all, 'FlightPathData.csv');
    };



</script>

</html>